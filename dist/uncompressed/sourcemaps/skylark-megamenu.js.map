{"version":3,"sources":["skylark-megamenu.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-megamenu.js","sourcesContent":["define('skylark-megamenu/megamenu',[\n  \"skylark-jquery\"\n],function($){\n  $.fn.megaMenu = function(options){\n    // All defaualt settings\n    var defaults = {\n      caret: false,\n      textHighlighter: false,\n      caretArrows: [{\n        up: \"caret-up\",\n        down: \"caret-down\",\n      }],\n    };\n    var settings = $.extend ({\n      menuBehaviour: \"click\",\n      stickyHeader: true,\n      selector: $(this),\n      caret:\"\",\n      caretArrows: [{\n        up: \"\",\n        down: \"\",\n        upUrl:\"\",\n        downUrl:\"\",\n      }],\n      highlighter: true,\n      followingHighlighter: false,\n      highlightColor:\"\",\n      textHighlighterColor: \"\",\n      animation:false,\n      animationClass: \"\",\n    },defaults, options)\n\n    var element = settings.selector;\n    var mainLinks = $(\".main-links ul li a\");\n    var subMenu = $(\".menu-dropdown .menu-item-wrapper\");\n    var mainLinksDataAttribute = [];\n    var iDofSubMenus = [];\n    var selectElementwithId = $(\"#\"+subMenu.attr(\"id\"));\n\n    var caretUp = defaults.caretArrows[0].up;\n    var caretDown = defaults.caretArrows[0].down;\n\n    // Sticky Heder\n\n    if (settings.stickyHeader === false) {\n      $(\".mega-menu\").removeClass(\"sticky-header\");\n    }\n    else {\n      $(\".mega-menu\").addClass(\"sticky-header\");\n    }\n\n    // If caret: custom then it will exclude default settings mentioned above\n    if (settings.caret === true) {\n      var caretUp = settings.caretArrows[0].up;\n      var caretDown = settings.caretArrows[0].down;\n    }\n\n    // If icon caret (up or down) is not empty image caret should be hidden\n    if (settings.caretArrows[0].up || settings.caretArrows[0].down ) {\n      settings.caretArrows[0].upUrl = null;\n      settings.caretArrows[0].downUrl = null;\n    }\n\n    // Creating Caret icon for every link which have data-submenu attribute\n    $(\"a[data-submenu]\").append('<span class=\"caret ' + caretDown + '\"></span>');\n\n    // Set Initial Image path for carret (Default is down)\n    if (settings.caret === true && settings.caretArrows[0].downUrl !== \"\") {\n      $(\".mega-menu span.caret\").removeClass(\"undefined\");\n      $(\".mega-menu span.caret\").addClass(\"caret-img down\");\n      $(\".mega-menu span.caret.caret-img.down\").css({\"background-image\" : \"url(\" +settings.caretArrows[0].downUrl+ \")\"});\n    }\n\n    // Append Style on DOM\n    $(`<style>\n        .mega-menu .main-links ul li a:hover{\n          border-color:` +settings.highlightColor+\n        `}\n      </style>`).appendTo(\"head\");\n\n    // Remove Active link Highlight\n    mainLinks.on(settings.menuBehaviour, function(){\n      mainLinks.removeClass(\"highlight\");\n      mainLinks.css({\"border-color\":\"\"});\n    });\n\n    // If a user didn't defined menu behaviour\n    if (settings.menuBehaviour === \"\") {\n      settings.menuBehaviour = \"click\";\n    }\n\n    // Menu Toggle Works\n    mainLinks.each(function(i){\n\n      var linkID = $(this).attr(\"data-submenu\");\n\n      mainLinksDataAttribute.push($(this).attr(\"data-submenu\"));\n\n      $(this).on(settings.menuBehaviour,function(){\n        // Find Position of Menu ULs to help pass index for perticular ID on each menu links\n        var findPositionOfSubmenus = jQuery.inArray( linkID, iDofSubMenus );\n\n        var imageCaret = $(this).find(\".caret.caret-img\");\n\n        // Sets every links default behavour for caret except currently clicked\n        mainLinks.find(\"span\").removeClass(caretUp);\n        mainLinks.find(\"span\").addClass(caretDown);\n\n        // $(\".caret.caret-img\").css(\"background-image\").replace(/\\\"/g, \"\") == \"url(\" +settings.caretArrows[0].downUrl+ \")\"\n\n        // Icon Caret toggling\n        if (mainLinksDataAttribute[i] == iDofSubMenus[findPositionOfSubmenus] && !$(subMenu[findPositionOfSubmenus]).hasClass(\"active\")) {\n\n          subMenu.removeClass(\"active\");\n          $(subMenu[findPositionOfSubmenus]).addClass(\"active\");\n\n          $(this).find(\"span\").removeClass(caretDown);\n          $(this).find(\"span\").addClass(caretUp);\n        }\n        else {\n            $(subMenu[findPositionOfSubmenus]).removeClass(\"active\");\n\n            $(this).find(\"span\").removeClass(caretUp);\n            $(this).find(\"span\").addClass(caretDown);\n        }\n\n        // Sets every links default behavour for image caret except currently clicked\n        if ($(\".menu-dropdown\").find(\".menu-item-wrapper\").hasClass(\"active\")) {\n          $(\".mega-menu span.caret\").addClass(\"down\");\n          $(\".mega-menu span.caret\").css({\"background-image\" : \"url(\" +settings.caretArrows[0].downUrl+ \")\"});\n        }\n\n        // Image caret toggling\n        if (imageCaret.hasClass(\"down\")) {\n          imageCaret.removeClass(\"down\");\n          imageCaret.addClass(\"up\");\n          imageCaret.css({\"background-image\" : \"url(\" +settings.caretArrows[0].upUrl+ \")\"});\n          // console.log(imageCaret[0].className);\n        }\n        else {\n          imageCaret.removeClass(\"up\");\n          imageCaret.addClass(\"down\");\n          imageCaret.css({\"background-image\" : \"url(\" +settings.caretArrows[0].downUrl+ \")\"});\n          // console.log(imageCaret[0].className);\n        }\n\n        // Active link Highlight\n        if (mainLinks.find(\"span\").hasClass(\"caret-up\") || $(this).find(\"span\").hasClass(\"up\") && !$(this).hasClass(\"highlight\") ) {\n          $(this).addClass(\"highlight\");\n\n          // Changing Highlight Color\n          $(this).css({\"border-color\": settings.highlightColor});\n        }\n\n        // Normal Dropdown Positioning\n        if (subMenu.hasClass(\"dropdown\") ) {\n          var dropDownforClickedLink = $(\"#\"+iDofSubMenus[findPositionOfSubmenus]+\".dropdown\");\n          dropDownforClickedLink.css({\"left\": $(this).offset().left })\n        }\n\n      });\n\n    });\n\n\n    // If Follow highlighter set true\n    if (settings.followingHighlighter === true) {\n\n      // Add a element with class first\n      $(\".main-links ul\").append('<div class=\"follow-highlighter\"></div>');\n\n      // While Mouser Hover\n      mainLinks.mouseover(function(e,i){\n\n        var getCurrentElementMousePos = e.pageX - $(this).offset().left;\n        var currentElementHalfWidth = $(this).innerWidth() / 2;\n\n        $(\".follow-highlighter\").css({\"display\": \"block\"});\n        $(\".main-links ul\").addClass(\"follow-highlighter-enabled\")\n        $(\".follow-highlighter\").css({\"width\" : $(this).innerWidth() , \"left\" : $(this).offset().left , \"background-color\": settings.highlightColor});\n\n      });\n    }\n\n    // While Mouse Unhover\n    $(\".main-links ul\").each(function(){\n      $(this).mouseleave(function(){\n        $(\".main-links ul\").removeClass(\"follow-highlighter-enabled\");\n        $(\".follow-highlighter\").css({\"display\": \"none\", \"left\" : $(mainLinks[0]).offset().left});\n      })\n    })\n\n    // If no need of highighter\n    if (settings.highlighter === false) {\n      $(\".main-links\").addClass(\"disable-highlighter\");\n      $(\".follow-highlighter\").remove();\n    }\n\n    // If Text Highlighter Set to true\n    if (settings.textHighlighter === true) {\n      $(\".main-links\").addClass(\"text-highlighter\");\n    }\n    // Text Highlighter Color\n    if (settings.textHighlighterColor) {\n      $(\"style\").append(`.mega-menu .text-highlighter.main-links ul li a:hover{\n        color:` + settings.textHighlighterColor +\n      `}`);\n    }\n\n      // Get menus IDs\n      subMenu.each(function(i){\n        iDofSubMenus.push($(subMenu[i]).attr(\"id\"));\n      });\n\n      // Add Animations\n      if (settings.animation === true) {\n        subMenu.addClass(settings.animationClass);\n      }\n\n      // Mobile Nav icon\n      $(\".mobile-nav-icon a\").click(function(){\n        $(\".follow-highlighter\").remove();\n        if ($(\".main-links\").hasClass(\"active\")) {\n          $(\".main-links\").removeClass(\"active\");\n          $(\".menu-dropdown\").hide();\n        }\n        else {\n          $(\".main-links\").addClass(\"active\");\n          $(\".menu-dropdown\").show();\n        }\n      });\n\n\n      // Responsive options\n\n      $(\".menu-item-wrapper\").prepend('<a href=\"#\" class=\"back-link\">Back</a>');\n\n      $(window).resize(function() {\n       if ($(window).width() < 768) {\n\n         // Get main-links marging top as height of mobile-nav-icon\n         if ($(\".mega-menu\").hasClass(\"sticky-header\")) {\n           $(\".mega-menu\").addClass(\"responsive-menu\");\n           $(\".main-links\").css({\"margin-top\": $(\".mobile-nav-icon\").outerHeight()+\"px\"});\n\n           // $(\".menu-item-wrapper\").prepend('<a href=\"#\" class=\"back-link\">Back</a>');\n\n         }\n\n       } else {\n         $(\".main-links\").css({\"margin-top\": \"0px\"});\n         // $(\".back-link\").remove();\n        // $(\".mega-menu\").removeClass(\"responsive-menu\");\n       }\n      });\n\n      $(document).ready(\n        function(){\n          $(\".back-link\").on('click', function(){\n            mainLinks.trigger('click');\n            $(mainLinks[mainLinks.length - 1]).trigger('click');\n          });\n        }\n      )\n\n  }\n\n  return $;\n\n});\ndefine('skylark-megamenu/main',[\r\n\t\"./megamenu\"\r\n],function(megamenu){\r\n\treturn megamenu;\r\n});\ndefine('skylark-megamenu', ['skylark-megamenu/main'], function (main) { return main; });\n\n"]}