/**
 * skylark-megamenu - A version of megamenu that ported to running on skylarkjs ui.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-megamenu/
 * @license MIT
 */
!function(e,a){var r=a.define,require=a.require,n="function"==typeof r&&r.amd,s=!n&&"undefined"!=typeof exports;if(!n&&!r){var i={};r=a.define=function(e,a,r){"function"==typeof r?(i[e]={factory:r,deps:a.map(function(a){return function(e,a){if("."!==e[0])return e;var r=a.split("/"),n=e.split("/");r.pop();for(var s=0;s<n.length;s++)"."!=n[s]&&(".."==n[s]?r.pop():r.push(n[s]));return r.join("/")}(a,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:r}},require=a.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(a,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-megamenu/megamenu",["skylark-jquery"],function(e){return e.fn.megaMenu=function(a){var r={caret:!1,textHighlighter:!1,caretArrows:[{up:"caret-up",down:"caret-down"}]},n=e.extend({menuBehaviour:"click",stickyHeader:!0,selector:e(this),caret:"",caretArrows:[{up:"",down:"",upUrl:"",downUrl:""}],highlighter:!0,followingHighlighter:!1,highlightColor:"",textHighlighterColor:"",animation:!1,animationClass:""},r,a),s=(n.selector,e(".main-links ul li a")),i=e(".menu-dropdown .menu-item-wrapper"),t=[],o=[],l=(e("#"+i.attr("id")),r.caretArrows[0].up),h=r.caretArrows[0].down;if(!1===n.stickyHeader?e(".mega-menu").removeClass("sticky-header"):e(".mega-menu").addClass("sticky-header"),!0===n.caret)var l=n.caretArrows[0].up,h=n.caretArrows[0].down;(n.caretArrows[0].up||n.caretArrows[0].down)&&(n.caretArrows[0].upUrl=null,n.caretArrows[0].downUrl=null),e("a[data-submenu]").append('<span class="caret '+h+'"></span>'),!0===n.caret&&""!==n.caretArrows[0].downUrl&&(e(".mega-menu span.caret").removeClass("undefined"),e(".mega-menu span.caret").addClass("caret-img down"),e(".mega-menu span.caret.caret-img.down").css({"background-image":"url("+n.caretArrows[0].downUrl+")"})),e("<style>\n        .mega-menu .main-links ul li a:hover{\n          border-color:"+n.highlightColor+"}\n      </style>").appendTo("head"),s.on(n.menuBehaviour,function(){s.removeClass("highlight"),s.css({"border-color":""})}),""===n.menuBehaviour&&(n.menuBehaviour="click"),s.each(function(a){var r=e(this).attr("data-submenu");t.push(e(this).attr("data-submenu")),e(this).on(n.menuBehaviour,function(){var d=jQuery.inArray(r,o),u=e(this).find(".caret.caret-img");if(s.find("span").removeClass(l),s.find("span").addClass(h),t[a]!=o[d]||e(i[d]).hasClass("active")?(e(i[d]).removeClass("active"),e(this).find("span").removeClass(l),e(this).find("span").addClass(h)):(i.removeClass("active"),e(i[d]).addClass("active"),e(this).find("span").removeClass(h),e(this).find("span").addClass(l)),e(".menu-dropdown").find(".menu-item-wrapper").hasClass("active")&&(e(".mega-menu span.caret").addClass("down"),e(".mega-menu span.caret").css({"background-image":"url("+n.caretArrows[0].downUrl+")"})),u.hasClass("down")?(u.removeClass("down"),u.addClass("up"),u.css({"background-image":"url("+n.caretArrows[0].upUrl+")"})):(u.removeClass("up"),u.addClass("down"),u.css({"background-image":"url("+n.caretArrows[0].downUrl+")"})),(s.find("span").hasClass("caret-up")||e(this).find("span").hasClass("up")&&!e(this).hasClass("highlight"))&&(e(this).addClass("highlight"),e(this).css({"border-color":n.highlightColor})),i.hasClass("dropdown")){var c=e("#"+o[d]+".dropdown");c.css({left:e(this).offset().left})}})}),!0===n.followingHighlighter&&(e(".main-links ul").append('<div class="follow-highlighter"></div>'),s.mouseover(function(a,r){a.pageX,e(this).offset().left,e(this).innerWidth();e(".follow-highlighter").css({display:"block"}),e(".main-links ul").addClass("follow-highlighter-enabled"),e(".follow-highlighter").css({width:e(this).innerWidth(),left:e(this).offset().left,"background-color":n.highlightColor})})),e(".main-links ul").each(function(){e(this).mouseleave(function(){e(".main-links ul").removeClass("follow-highlighter-enabled"),e(".follow-highlighter").css({display:"none",left:e(s[0]).offset().left})})}),!1===n.highlighter&&(e(".main-links").addClass("disable-highlighter"),e(".follow-highlighter").remove()),!0===n.textHighlighter&&e(".main-links").addClass("text-highlighter"),n.textHighlighterColor&&e("style").append(".mega-menu .text-highlighter.main-links ul li a:hover{\n        color:"+n.textHighlighterColor+"}"),i.each(function(a){o.push(e(i[a]).attr("id"))}),!0===n.animation&&i.addClass(n.animationClass),e(".mobile-nav-icon a").click(function(){e(".follow-highlighter").remove(),e(".main-links").hasClass("active")?(e(".main-links").removeClass("active"),e(".menu-dropdown").hide()):(e(".main-links").addClass("active"),e(".menu-dropdown").show())}),e(".menu-item-wrapper").prepend('<a href="#" class="back-link">Back</a>'),e(window).resize(function(){e(window).width()<768?e(".mega-menu").hasClass("sticky-header")&&(e(".mega-menu").addClass("responsive-menu"),e(".main-links").css({"margin-top":e(".mobile-nav-icon").outerHeight()+"px"})):e(".main-links").css({"margin-top":"0px"})}),e(document).ready(function(){e(".back-link").on("click",function(){s.trigger("click"),e(s[s.length-1]).trigger("click")})})},e}),e("skylark-megamenu/main",["./megamenu"],function(e){return e}),e("skylark-megamenu",["skylark-megamenu/main"],function(e){return e})}(r),!n){var t=require("skylark-langx/skylark");s?module.exports=t:a.skylarkjs=t}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-megamenu.js.map
